---
layout: default
title: CV of Your Name
---

	<div class="cv">
		<a href="#" class="download" title="Download CV as PDF">Download CV</a>			
					<h1>Sam Watson</h1>
					<address>
					<strong>Affiliation</strong><br>
					Street Address<br>
					City State 12345<br>
					<abbr title="phone">P:</abbr> (123) 456-7890<br>
					<span class="obfuscate">youremailaddress@email.com</span>
					</address>

					<h2>Select Publications</h2>

					<p><strong>Last Name, F.</strong> (204). Title of a Chapter You Wrote for a Book. In I.M Editor (Ed.), <em>The Book I Contributed To</em> (pp. 97-108). City, ST: Publisher Name. Chapter available at: <a href="#">http://permalink</a>.

						<h1>LISTENER</h1>
<p>Here's the data sent from SAC:</p>
<p id="sac"></p>
<p id="jsp"></p>

	</div>
<script>
//add an EventListener to handle the postMessage call from SAC
window.addEventListener('message', function(e) {
//var event,obj, i, x = "";
var obj;
//set obj to the JSON object passed in the message
obj = JSON.parse(e.data);
//display the number of records received from SAC
document.getElementById("sac").innerHTML = obj.data.length +" records passed from SAC";
//call the getPost() function and pass in the JSON object
getPost(obj);
}, false);
//use this function to send the JSON object to the JSP page and listen for the results of the
upload
function getPost(obj){
var loadData=new XMLHttpRequest();
loadData.onreadystatechange=function()
{
if (loadData.readyState==4 && loadData.status==200)
{
document.getElementById("jsp").innerHTML = loadData.responseText;
window.parent.postMessage(loadData.responseText,"*");
}
}
loadData.open("POST","/cv/loadRecords.jsp",true);
loadData.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
loadData.send("data="+JSON.stringify(obj));
}
</script>
